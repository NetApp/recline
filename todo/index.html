<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Things To Do &mdash; recline 2025.3 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=19f00094" />

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../_static/documentation_options.js?v=39dd0b44"></script>
        <script src="../_static/doctools.js?v=9a2dae69"></script>
        <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="API Reference" href="../api_reference/modules.html" />
    <link rel="prev" title="Async Commands" href="../async_commands/index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            recline
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../before_getting_started/index.html">Before getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quickstart/index.html">Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="../input_output/index.html">Input and Output</a></li>
<li class="toctree-l1"><a class="reference internal" href="../help_text/index.html">Command Help and Man Pages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tab_completion/index.html">Tab Completion</a></li>
<li class="toctree-l1"><a class="reference internal" href="../command_chaining/index.html">Shell Behavior</a></li>
<li class="toctree-l1"><a class="reference internal" href="../async_commands/index.html">Async Commands</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Things To Do</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#feature-enhancements">Feature Enhancements</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#multiple-output-choices">Multiple Output Choices</a></li>
<li class="toctree-l3"><a class="reference internal" href="#support-other-async-libraries">Support Other Async Libraries</a></li>
<li class="toctree-l3"><a class="reference internal" href="#pipelines">Pipelines</a></li>
<li class="toctree-l3"><a class="reference internal" href="#variables">Variables</a></li>
<li class="toctree-l3"><a class="reference internal" href="#wizards">Wizards</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#known-issues">Known Issues</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#status-codes">Status Codes</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../api_reference/modules.html">API Reference</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">recline</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Things To Do</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/todo/index.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="things-to-do">
<h1>Things To Do<a class="headerlink" href="#things-to-do" title="Link to this heading"></a></h1>
<p>This page is not part of the general documentation of the library. Rather it is
meant as a placeholder to add features or bugs that should be worked on at some
point in the library’s lifetime.</p>
<section id="feature-enhancements">
<h2>Feature Enhancements<a class="headerlink" href="#feature-enhancements" title="Link to this heading"></a></h2>
<p>This is a list of potential feature enhancements that could make the user’s life
easier.</p>
<section id="multiple-output-choices">
<h3>Multiple Output Choices<a class="headerlink" href="#multiple-output-choices" title="Link to this heading"></a></h3>
<p>recline supports output formatting, but in the current version, you can only specify
a single output format type. It may make sense to support multiple output types
for a single command and to have the application user select between them at runtime.</p>
<p>This could look something like this:</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="nd">@recline</span><span class="o">.</span><span class="n">command</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;cake show&#39;</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">show_cake</span><span class="p">()</span> <span class="o">-&gt;</span>  <span class="n">Union</span><span class="p">[</span><span class="n">TableFormat</span><span class="p">,</span> <span class="n">CSVFormat</span><span class="p">,</span> <span class="n">JSONFormat</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">cakes</span>
</pre></div>
</div>
<p>In this case, TableFormat would be the default if the user didn’t choose anything
explicitly. There would need to be some mechanism by which arguments were added to
the command based on the output types it supports.</p>
</section>
<section id="support-other-async-libraries">
<h3>Support Other Async Libraries<a class="headerlink" href="#support-other-async-libraries" title="Link to this heading"></a></h3>
<p>We may want to support gevent, trio, tornado, etc. in addition to asyncio for async commands</p>
</section>
<section id="pipelines">
<h3>Pipelines<a class="headerlink" href="#pipelines" title="Link to this heading"></a></h3>
<p>Something I was thinking would be useful is to implement pipes. For instance:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>::&gt; cake show -flavor chocolate
+----+-------------+-----------+
| ID | Cake Layers | Flavor    |
+----+-------------+-----------+
| 1  | 1           | chocolate |
| 2  | 3           | chocolate |
| 3  | 2           | chocolate |
+----+-------------+-----------+
::&gt; cake eat -id 1
Yum, that was a good 1 layer chocolate cake
::&gt; cake show -flavor chocolate | cake eat
Yum, that was a good 3 layer chocolate cake
Yum, that was a good 2 layer chocolate cake
</pre></div>
</div>
<p>In this example, we piped the output of the <code class="docutils literal notranslate"><span class="pre">cake</span> <span class="pre">show</span></code> command to the input
of the <code class="docutils literal notranslate"><span class="pre">cake</span> <span class="pre">eat</span></code> command. Normally, the <code class="docutils literal notranslate"><span class="pre">cake</span> <span class="pre">eat</span></code> command requires an <code class="docutils literal notranslate"><span class="pre">id</span></code>
input, but it was able to take it from the table formatted output of the last
command in the chain.</p>
<p>Internally, I expect that each output formatter type may choose to implement a
pip_output function which returns a dict. That dict would have data names and
values and the names would then be matched to the inputs of the next command
in the pipe. If it didn’t implement this, then the raw text of the output would
be taken and it would be up to the next command in the pipe to interpret it.</p>
</section>
<section id="variables">
<h3>Variables<a class="headerlink" href="#variables" title="Link to this heading"></a></h3>
<p>Sometimes, it might be nice to not have to remember/type so much. For example, you might
have a value that you want to use in multiple commands and it is either complex
or long. The library should provide a way to save this value with a meaningful, user-
chosen name and reuse it later. For example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&gt;:: echo hello world
hello world
&gt;:: foo=&quot;this is the song that never ends; yes it goes on and on my friend&quot;
&gt;:: echo $foo
this is the song that never ends; yes it goes on and on my friend
&gt;:: shout $foo
THIS IS THE SONG THAT NEVER ENDS; YES IT GOES ON AND ON MY FRIEND!
&gt;::
</pre></div>
</div>
<p>Here we saved a simple constant string value so that we could use it multiple times
without having to retype it. But this feature could also be used to save the result
of a command and use it again later:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&gt;:: add 3 5
8
&gt;:: answer=$(add 3 5)
&gt;:: buy donuts -count $answer
Here are your 8 donuts
&gt;::
</pre></div>
</div>
<p>Here, we ran the add command and saved its output as the value of a variable. Then
we can use that variable later in the session in other commands as input.</p>
</section>
<section id="wizards">
<h3>Wizards<a class="headerlink" href="#wizards" title="Link to this heading"></a></h3>
<p>Often, a command might have one or more required arguments. Typically, when a user
doesn’t provide all of the required arguments, the command will fail and show the
user the brief help for that command with a syntax to highlight which arguments are
required and which are optional.</p>
<p>This is fine, but it does give the user a sense of failure. What if we could do better?
Since recline focuses its efforts on an interactive experience, why shouldn’t it be
able to prompt the user for those missing inputs before continuing? That way, the
user can gain familiarity with the command and not receive a failure.</p>
<p>Here’s an example script that we will use:</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">recline</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">recline.arg_types.choices</span><span class="w"> </span><span class="kn">import</span> <span class="n">Choices</span>

<span class="nd">@recline</span><span class="o">.</span><span class="n">command</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;pitch baseball&quot;</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">pitch_baseball</span><span class="p">(</span><span class="n">grip</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">speed</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">handedness</span><span class="p">:</span> <span class="n">Choices</span><span class="o">.</span><span class="n">define</span><span class="p">([</span><span class="s2">&quot;right&quot;</span><span class="p">,</span> <span class="s2">&quot;left&quot;</span><span class="p">])</span> <span class="o">=</span> <span class="s2">&quot;right&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Throw one right down the plate and strike out the batter if you can!</span>

<span class="sd">    Arguments:</span>
<span class="sd">        grip: How do you want to hold the ball?</span>
<span class="sd">        speed: How fast are you going to throw the ball?</span>
<span class="sd">        handedness: Which hand will you pitch with?</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="n">speed</span> <span class="o">&gt;</span> <span class="mi">95</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Strike!&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;That ball is out of here!&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>recline.relax(prompt=”&gt;:: “)</p>
<p>This is how it would look without this feature:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ python wizard_test.py
&gt;:: pitch baseball
usage: wizard_test.py -grip &lt;grip&gt; -speed &lt;int&gt; [-handedness &lt;value&gt;]
wizard_test.py: error: the following arguments are required: -grip, -speed
&gt;::
</pre></div>
</div>
<p>With the feature, it might look like this instead:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ python wizard_test.py
&gt;:: pitch baseball
A value is required for grip: two finger
A value is required for speed: 96
Strike!
&gt;::
</pre></div>
</div>
</section>
</section>
<section id="known-issues">
<h2>Known Issues<a class="headerlink" href="#known-issues" title="Link to this heading"></a></h2>
<p>Issues can be filed and tracked via GitHub: <a class="reference external" href="https://github.com/NetApp/recline/issues">https://github.com/NetApp/recline/issues</a></p>
<section id="status-codes">
<h3>Status Codes<a class="headerlink" href="#status-codes" title="Link to this heading"></a></h3>
<p>There is some notion of status/exit codes in the shell.py file, but they don’t
make it all the way out to the external shell when operating in non-interactive
mode:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ python examples/cake.py -c &quot;cake make&quot;
usage: cake.py -layers &lt;int{2-10}&gt; -flavor &lt;value&gt;
cake.py: error: the following arguments are required: -layers, -flavor
$ echo $?
0
$
</pre></div>
</div>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../async_commands/index.html" class="btn btn-neutral float-left" title="Async Commands" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../api_reference/modules.html" class="btn btn-neutral float-right" title="API Reference" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, NetApp.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>